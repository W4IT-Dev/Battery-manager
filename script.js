let alarm=new Audio("/assets/alarm.mp3"),silent=!1;localStorage.maxCharge?maxCharge.value=localStorage.maxCharge:localStorage.maxCharge=maxCharge.value,localStorage.minCharge?minCharge.value=localStorage.minCharge:localStorage.minCharge=minCharge.value,document.addEventListener("keydown",e=>{e.key.includes("Arrow")&&e.preventDefault(),"max-charge"==document.activeElement.id&&"ArrowLeft"==e.key&&(document.activeElement.stepDown(),localStorage.maxCharge=maxCharge.value),"max-charge"==document.activeElement.id&&"ArrowRight"==e.key&&(document.activeElement.stepUp(),localStorage.maxCharge=maxCharge.value),"min-charge"==document.activeElement.id&&"ArrowLeft"==e.key&&(document.activeElement.stepDown(),localStorage.minCharge=minCharge.value),"min-charge"==document.activeElement.id&&"ArrowRight"==e.key&&(document.activeElement.stepUp(),localStorage.minCharge=minCharge.value),alarm.paused||alarm.pause()}),getKaiAd({publisher:"fe2d9134-74be-48d8-83b9-96f6d803efef",app:"batterymanager",onerror:e=>console.error("error getting ad: ",e),onready(e){e.call("display")}});let navElems=document.querySelectorAll(".nav"),divs=document.querySelectorAll(".div"),timeout;for(let i=0;i<navElems.length;i++)navElems[i].addEventListener("focus",()=>{divs[i].classList.add("focus"),timeout=setTimeout(()=>{divs[i].classList.contains("focus")&&divs[i].classList.add("showinfo")},1500)}),navElems[i].addEventListener("blur",()=>{divs[i].classList.remove("focus"),divs[i].classList.remove("showinfo"),clearTimeout(timeout)}),document.addEventListener("keydown",e=>{"Enter"==e.key&&divs[i].classList.remove("showinfo")});function nav(e){let t=document.activeElement,n=document.querySelectorAll(".nav"),a=[...n].indexOf(t),r=n[a+e];if(e<0&&!document.activeElement.classList.contains("nav"))return n[n.length-1].focus();r?r.focus():document.activeElement.blur()}document.addEventListener("keydown",e=>{if(e.key.includes("Arrow")&&e.preventDefault(),"ArrowUp"==e.key&&nav(-1),"ArrowDown"==e.key&&nav(1),"#"==e.key&&window.open("/about.html"),"*"==e.key){let t;if(t=(silent=!silent)?"Silent alarm on":"Silent alarm off",!navigator.mozApps)return!1;navigator.mozApps.getSelf().onsuccess=function(e){e.target.result.connect("systoaster").then(function(e){e.forEach(function(e){e.postMessage({message:t})})})}}});let pushLocalNotification=function(e,t,n){window.Notification.requestPermission().then(a=>{var r=new window.Notification(e,{body:t,icon:n,mozbehavior:{vibrationPattern:[30,200,30]}});r.onerror=function(e){console.warn(e)},r.onclick=function(e){if(window.navigator.mozApps){var t=window.navigator.mozApps.getSelf();t.onsuccess=function(){t.result&&(r.close(),t.result.launch())}}else window.open(document.location.origin,"_blank")},r.onshow=function(){}})};